


import 'package:test/test.dart';
import 'package:boaring_flutter/json_parsing.dart';

void main(){

  test("parses topstories.json", (){
    const jsonString =
        "[17840739,17840734,17840321,17840717,17839188,17834062,17839651,17839970,17840672,17840596,17840394,17832938,17833192,17836137,17834322,17839935,17840548,17833858,17833224,17840163,17833856,17833017,17839823,17834799,17837044,17833963,17833039,17840024,17838448,17837870,17837035,17839768,17833165,17833829,17838572,17838887,17831933,17838161,17837534,17837383,17829751,17834274,17834266,17831975,17832343,17836944,17835760,17828187,17834675,17839171,17840003,17834380,17837295,17836993,17826373,17840090,17839810,17835189,17830226,17830235,17838257,17827204,17831003,17836343,17825256,17823886,17839489,17835430,17839329,17824798,17837250,17838861,17831220,17829569,17838891,17839127,17832978,17834514,17827112,17831943,17831797,17830489,17834930,17830998,17820099,17818069,17831272,17822070,17826959,17831777,17832890,17827000,17833343,17822257,17824472,17838722,17822761,17839295,17831151,17826416,17829656,17819138,17831914,17824218,17828658,17828901,17829644,17816801,17835307,17830663,17824379,17830780,17828478,17822124,17835531,17828293,17822561,17826037,17831918,17817627,17839405,17839876,17827150,17819771,17825383,17817403,17828851,17829790,17817966,17828148,17835225,17817254,17835675,17829619,17827764,17829319,17825747,17824096,17819895,17830940,17824757,17823286,17826438,17827391,17836191,17827304,17817758,17824661,17827905,17824904,17839542,17825155,17814386,17835925,17834580,17816752,17839468,17826188,17839174,17827538,17838764,17834437,17830700,17830381,17831226,17830422,17834721,17817946,17827861,17826731,17832936,17839030,17827568,17820324,17832654,17817397,17818721,17823264,17831726,17817375,17821253,17821181,17825027,17808349,17817466,17824826,17828971,17816959,17823702,17817196,17807753,17811051,17822676,17820152,17810503,17823773,17834427,17831199,17821951,17809447,17838293,17822857,17817663,17819170,17816700,17824575,17819189,17830783,17836856,17819352,17835990,17815352,17820157,17813040,17819420,17818498,17816713,17826912,17814006,17823833,17834596,17807163,17818646,17816692,17836985,17812708,17815892,17818647,17827797,17839091,17813226,17810267,17819243,17809859,17807673,17820626,17823962,17835761,17817334,17816736,17823691,17822659,17814185,17808631,17827780,17822379,17822138,17810591,17833392,17811472,17825902,17820961,17807926,17831881,17834053,17819521,17808442,17822013,17838667,17807002,17816667,17811181,17837631,17813417,17832147,17808191,17838537,17832401,17829870,17818049,17830321,17827026,17816429,17812292,17814648,17832330,17821983,17806957,17832677,17826431,17821845,17817672,17820994,17807329,17828860,17836686,17808743,17831770,17835312,17838110,17832641,17818295,17836404,17814871,17807278,17824829,17806839,17827206,17817206,17829132,17819071,17812156,17807452,17812713,17837692,17831031,17817912,17833498,17808648,17806459,17826745,17811049,17807272,17834977,17808910,17816185,17810248,17828023,17837395,17814478,17830474,17806790,17829117,17818407,17808302,17815973,17832541,17825847,17822606,17809746,17820666,17814922,17810945,17834077,17806934,17823127,17815272,17808393,17818160,17814451,17806913,17817162,17827243,17836031,17818730,17821874,17808059,17813853,17820852,17808722,17824017,17832380,17823532,17823031,17833360,17830249,17833424,17807028,17832062,17812328,17809209,17809964,17830830,17819139,17815466,17820248,17808630,17833599,17806624,17817244,17833414,17831094,17830968,17808940,17810031,17808109,17820108,17806954,17834452,17809916,17835003,17832252,17818078,17829961,17808375,17815958,17808363,17829108,17832233,17830234,17808657,17822290,17813614,17808386,17808725,17822227,17816500,17808513,17832340,17819840,17823875,17816130,17816740,17826998,17818339,17820655,17829755,17830710,17815670,17829680,17823051,17831682,17809175,17808401,17831483,17808447,17831340,17814721,17822117,17814131,17832816,17827946,17812050,17828366,17830034,17812996,17816758,17816981,17832172,17827454,17816447,17818198,17808491,17808458,17826781,17808278,17833416,17807357,17807890,17807687,17831341,17807377,17818094,17814757,17807238,17809131,17830584,17831112,17810527,17811884,17825350,17813105,17830306,17810451,17821926,17829814,17809875,17821077,17824569,17833194,17825328,17820953,17828784,17825227,17808048,17823921,17824995,17811346,17822455,17817999,17813509,17812915,17821538,17806625,17817907,17814407,17826618,17823624,17823307,17811986,17816732,17833186,17814660,17827614,17820316,17809998,17822237,17835615,17812681,17812431,17817692,17819830,17809803,17813297,17836594,17813221,17813179,17818895,17810979,17808679]";
    expect(parseTopStories(jsonString).first, 17840739);
  });


  test("parses item.json", (){
    const jsonString = """{"by":"dhouston","descendants":71,"id":8863,"kids":[9224,8952,8917,8884,8887,8943,8869,8940,8908,8958,9005,8873,9671,9067,9055,8865,8881,8872,8955,10403,8903,8928,9125,8998,8901,8902,8907,8894,8870,8878,8980,8934,8876],"score":104,"time":1175714200,"title":"My YC app: Dropbox - Throw away your USB drive","type":"story","url":"http://www.getdropbox.com/u/2/screencast.html"}""";
    expect(parseArticle(jsonString).by, "dhouston");
  });



}